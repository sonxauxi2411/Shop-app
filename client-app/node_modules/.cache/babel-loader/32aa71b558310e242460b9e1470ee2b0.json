{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Administrator/Desktop/ASM3/client-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Administrator/Desktop/ASM3/client-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import axiosClient from\"../API/axiosClient\";import UserAPI from\"../API/UserAPI\";import{deleteSession}from\"../Redux/Action/ActionSession\";import{jsx as _jsx}from\"react/jsx-runtime\";function LoginLink(props){var dispatch=useDispatch();var navigate=useNavigate();var onRedirect=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,action;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return UserAPI.postLogout();case 3:res=_context.sent;localStorage.clear();action=deleteSession(\"\");dispatch(action);navigate(0);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function onRedirect(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",onClick:onRedirect,children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:\"( Logout )\"})});}export default LoginLink;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","Link","useNavigate","axiosClient","UserAPI","deleteSession","LoginLink","props","dispatch","navigate","onRedirect","postLogout","res","localStorage","clear","action","console","log"],"sources":["C:/Users/Administrator/Desktop/ASM3/client-app/src/Authentication/LoginLink.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axiosClient from \"../API/axiosClient\";\nimport UserAPI from \"../API/UserAPI\";\nimport { deleteSession } from \"../Redux/Action/ActionSession\";\n\nfunction LoginLink(props) {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const onRedirect = async () => {\n    try {\n      const res = await UserAPI.postLogout();\n      localStorage.clear();\n      const action = deleteSession(\"\");\n      dispatch(action);\n      navigate(0);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <li className=\"nav-item\" onClick={onRedirect}>\n      <Link className=\"nav-link\" to=\"/signin\">\n        ( Logout )\n      </Link>\n    </li>\n  );\n}\n\nexport default LoginLink;\n"],"mappings":"wRAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,YAAW,KAAM,oBAAoB,CAC5C,MAAOC,QAAO,KAAM,gBAAgB,CACpC,OAASC,aAAa,KAAQ,+BAA+B,CAAC,2CAE9D,QAASC,UAAS,CAACC,KAAK,CAAE,CACxB,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAC9B,GAAMS,SAAQ,CAAGP,WAAW,EAAE,CAC9B,GAAMQ,WAAU,4FAAG,yLAEGN,QAAO,CAACO,UAAU,EAAE,QAAhCC,GAAG,eACTC,YAAY,CAACC,KAAK,EAAE,CACdC,MAAM,CAAGV,aAAa,CAAC,EAAE,CAAC,CAChCG,QAAQ,CAACO,MAAM,CAAC,CAChBN,QAAQ,CAAC,CAAC,CAAC,CAAC,iFAEZO,OAAO,CAACC,GAAG,aAAO,CAAC,oEAEtB,kBAVKP,WAAU,0CAUf,CAED,mBACE,WAAI,SAAS,CAAC,UAAU,CAAC,OAAO,CAAEA,UAAW,uBAC3C,KAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,SAAS,UAAC,YAExC,EAAO,EACJ,CAET,CAEA,cAAeJ,UAAS"},"metadata":{},"sourceType":"module"}