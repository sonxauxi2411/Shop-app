{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Administrator/Desktop/Frontend Assignment 03/client-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Administrator/Desktop/Frontend Assignment 03/client-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/Frontend Assignment 03/client-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import HistoryAPI from'../../API/HistoryAPI';import queryString from'query-string';import convertMoney from'../../convertMoney';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MainHistory(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listCart=_useState2[0],setListCart=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var params,query,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:params={idUser:localStorage.getItem('id_user')};query='?'+queryString.stringify(params);_context.next=4;return HistoryAPI.getHistoryAPI(query);case 4:response=_context.sent;console.log(response);setListCart(response);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row px-4 px-lg-5 py-lg-4 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h2 text-uppercase mb-0\",children:\"History\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 text-lg-right\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb justify-content-lg-end mb-0 px-0\",children:/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"History\"})})})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive pt-5 pb-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"ID Order\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"ID User\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Phone\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Address\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Total\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Delivery\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Status\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Detail\"})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listCart&&listCart.map(function(value){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value._id})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.idUser})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.fullname})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.phone})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.address})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 small\",children:[convertMoney(value.total),\"VND\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:!value.delivery?'Waiting for progressing':'Processed'})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:!value.status?'Waiting for pay':'Paid'})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsxs(Link,{className:\"btn btn-outline-dark btn-sm\",to:\"/history/\".concat(value._id),children:[\"View\",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-long-arrow-alt-right ml-2\"})]})})]},value._id);})})]})})]});}export default MainHistory;","map":{"version":3,"names":["React","useEffect","useState","Link","HistoryAPI","queryString","convertMoney","MainHistory","props","listCart","setListCart","fetchData","params","idUser","localStorage","getItem","query","stringify","getHistoryAPI","response","console","log","map","value","_id","fullname","phone","address","total","delivery","status"],"sources":["C:/Users/Administrator/Desktop/Frontend Assignment 03/client-app/src/History/Component/MainHistory.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport HistoryAPI from '../../API/HistoryAPI';\nimport queryString from 'query-string';\nimport convertMoney from '../../convertMoney';\n\nMainHistory.propTypes = {};\n\nfunction MainHistory(props) {\n\tconst [listCart, setListCart] = useState([]);\n\t\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tconst params = {\n\t\t\t\tidUser: localStorage.getItem('id_user'),\n\t\t\t};\n\n\t\t\tconst query = '?' + queryString.stringify(params);\n\n\t\t\tconst response = await HistoryAPI.getHistoryAPI(query);\n\t\t\tconsole.log(response);\n\n\t\t\tsetListCart(response);\n\t\t};\n\n\t\tfetchData();\n\t}, []);\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<section className='py-5 bg-light'>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<div className='row px-4 px-lg-5 py-lg-4 align-items-center'>\n\t\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t\t<h1 className='h2 text-uppercase mb-0'>History</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-lg-6 text-lg-right'>\n\t\t\t\t\t\t\t<nav aria-label='breadcrumb'>\n\t\t\t\t\t\t\t\t<ol className='breadcrumb justify-content-lg-end mb-0 px-0'>\n\t\t\t\t\t\t\t\t\t<li className='breadcrumb-item active'>History</li>\n\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\n\t\t\t<div className='table-responsive pt-5 pb-5'>\n\t\t\t\t<table className='table'>\n\t\t\t\t\t<thead className='bg-light'>\n\t\t\t\t\t\t<tr className='text-center'>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tID Order\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tID User\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tPhone\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tAddress\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tDelivery\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th className='border-0' scope='col'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<strong className='text-small text-uppercase'>\n\t\t\t\t\t\t\t\t\tDetail\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{listCart &&\n\t\t\t\t\t\t\tlistCart.map((value) => (\n\t\t\t\t\t\t\t\t<tr className='text-center' key={value._id}>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{value._id}</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{value.idUser}</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{value.fullname}</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{value.phone}</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{value.address}</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>{convertMoney(value.total)}VND</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>\n\t\t\t\t\t\t\t\t\t\t\t{!value.delivery\n\t\t\t\t\t\t\t\t\t\t\t\t? 'Waiting for progressing'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'Processed'}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<p className='mb-0 small'>\n\t\t\t\t\t\t\t\t\t\t\t{!value.status ? 'Waiting for pay' : 'Paid'}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className='align-middle border-0'>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-dark btn-sm'\n\t\t\t\t\t\t\t\t\t\t\tto={`/history/${value._id}`}>\n\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-long-arrow-alt-right ml-2'></i>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MainHistory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}